import{a as k,u as _,r as d,j as e,L as x}from"./index-B0ulBnKu.js";import{c as j,u as N,T as v}from"./Toast--y4ywzNG.js";import{C as y}from"./ConfirmDialog-CH1F-POw.js";const g="_container_kybhk_1",f="_header_kybhk_13",C="_backLink_kybhk_27",p="_actions_kybhk_55",D="_editButton_kybhk_65",B="_deleteButton_kybhk_97",L="_card_kybhk_137",T="_title_kybhk_151",S="_subtitle_kybhk_163",P="_section_kybhk_175",w="_sectionTitle_kybhk_199",A="_grid_kybhk_213",E="_field_kybhk_225",I="_label_kybhk_237",$="_value_kybhk_253",F="_loading_kybhk_263",O="_error_kybhk_265",R="_backButton_kybhk_287",s={container:g,header:f,backLink:C,actions:p,editButton:D,deleteButton:B,card:L,title:T,subtitle:S,section:P,sectionTitle:w,grid:A,field:E,label:I,value:$,loading:F,error:O,backButton:R};function H(){const{id:r}=k(),t=_(),n=Number(r),{data:a,isLoading:m,error:h}=j(n),o=N(),[u,l]=d.useState(!1),[i,c]=d.useState(null),b=async()=>{l(!1);try{await o.mutateAsync(n),c({message:"Customer deleted successfully!",type:"success"}),setTimeout(()=>{t("/")},1500)}catch{c({message:"Failed to delete customer. Please try again.",type:"error"})}};return m?e.jsx("div",{className:s.container,children:e.jsx("div",{className:s.loading,children:"Loading customer details..."})}):h||!a?e.jsx("div",{className:s.container,children:e.jsxs("div",{className:s.error,children:["Customer not found or failed to load.",e.jsx("button",{onClick:()=>t("/"),className:s.backButton,children:"Back to List"})]})}):e.jsxs("div",{className:s.container,children:[i&&e.jsx(v,{message:i.message,type:i.type,onClose:()=>c(null)}),e.jsx(y,{isOpen:u,title:"Delete Customer",message:`Are you sure you want to delete ${a.name}? This action cannot be undone.`,confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",onConfirm:b,onCancel:()=>l(!1)}),e.jsxs("div",{className:s.header,children:[e.jsx("button",{onClick:()=>t("/"),className:s.backLink,children:"â† Back to List"}),e.jsxs("div",{className:s.actions,children:[e.jsx(x,{to:`/${a.id}/edit`,className:s.editButton,children:"Edit Customer"}),e.jsx("button",{onClick:()=>l(!0),className:s.deleteButton,disabled:o.isPending,children:"Delete Customer"})]})]}),e.jsxs("div",{className:s.card,children:[e.jsx("h1",{className:s.title,children:a.name}),e.jsxs("p",{className:s.subtitle,children:["Customer ID: ",a.id]}),e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Contact Information"}),e.jsxs("div",{className:s.grid,children:[e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"Email"}),e.jsx("div",{className:s.value,children:a.email})]}),a.phone&&e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"Phone"}),e.jsx("div",{className:s.value,children:a.phone})]})]})]}),(a.street||a.city||a.state||a.postalCode)&&e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Address"}),e.jsxs("div",{className:s.grid,children:[a.street&&e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"Street Address"}),e.jsx("div",{className:s.value,children:a.street})]}),a.city&&e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"City"}),e.jsx("div",{className:s.value,children:a.city})]}),a.state&&e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"State"}),e.jsx("div",{className:s.value,children:a.state})]}),a.postalCode&&e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"Postal Code"}),e.jsx("div",{className:s.value,children:a.postalCode})]})]})]}),e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Account Information"}),e.jsxs("div",{className:s.field,children:[e.jsx("label",{className:s.label,children:"Signup Date"}),e.jsx("div",{className:s.value,children:new Date(a.signupDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})}export{H as default};
